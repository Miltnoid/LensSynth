\begin{figure}
\centering

\begin{mathpar}
\inferrule[Constant Parse Tree]
{
\String \in \Sigma^*
}
{
\Delta \vdash \String : \String
}

\inferrule[Userdef Parse Tree]
{
\Delta' \vdash \ParseTree : (\Regex, \String)
}
{
\Delta' \cup \{(\Regex,\UserDefined)\} \vdash \String : (\UserDefined, \String)
}

\inferrule[Concat Parse Trees]
{
\Delta \vdash \ParseTree_1 : (\Regex_1,\String_1) \\
\Delta \vdash \ParseTree_2 : (\Regex_2,\String_2) \\
}
{
\Delta \vdash \ParseTree_1 \ParseTree_2 : (\Regex_1 \Regex_2,\String_1 \String_2)
}

\inferrule[Left Or Example]
{
\Delta \vdash \ParseTree : (\Regex,\String)\\
}
{
\Delta \vdash \LeftChoiceParse{\ParseTree} : (\Regex | \Regex',\String)\\
}

\inferrule[Right Or Example]
{
\Delta \vdash \ParseTree : (\Regex,\String)\\
}
{
\Delta \vdash \RightChoiceParse{\ParseTree} : (\Regex' | \Regex,\String)\\
}

\inferrule[Star Empty]
{
}
{
\Delta \vdash \StarParse{[]} : (\Star{\Regex},\epsilon)
}

\inferrule[Star Add Parse]
{
\Delta \vdash \ParseTree : (\Regex,\String_1)\\
\Delta \vdash \StarParse{\ParseTrees} : (\Star{\Regex},\String_2)\\
}
{
\Delta \vdash \StarParse{\ParseTree::\ParseTrees} : (\Star{\Regex},\String_1\String_2)
}
\end{mathpar}
\caption{Parse Tree Typing}
\label{fig:parsetree-typing}
\end{figure}
