\input{macros}



\documentclass{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{empheq}
\begin{document}


\begin{figure}
\begin{tabular}{l@{\ }l@{\ }c@{\ }l}

% REGEX
(Atom Lenses) &\AtomLens{} & \GEq{} & $Iterate(\DNFLens)$ \GBar{} $Identity$ \\
(Clause Lenses) &\ClauseLens{} & \GEq{} & $([\AtomLens_1 ; \ldots ; \AtomLens_n], [\String_{1,1} ; \ldots ; \String_{1,n+1}], [\String_{2,1} ; \ldots ; \String_{2,n+1}], \sigma \in [0,n] \rightarrowtail [0,n])$ \\
(DNF Lenses)& \DNFLens{} & \GEq{} & $([\ClauseLens_1 ; \ldots ; \ClauseLens_n], \sigma \in [0,n] \rightarrowtail [0,n])$ \\
\end{tabular}
\caption{Regex Syntax}
\label{fig:refn-subgrammars}
\end{figure}


Underlying Function of DNF Lenses:
\begin{itemize}
\item $[\ClauseLens_1 ; \ldots ; \ClauseLens_n].putr(\String) = \ClauseLens_1(\String)$ if $\String \in dom(\ClauseLens_1)$ or \ldots or $\ClauseLens_n(\String)$ if $\String \in dom(\ClauseLens_n)$
\end{itemize}

Underlying Function of Clause Lenses:
\begin{itemize}
\item $([\AtomLens_1; \ldots; \AtomLens_n],[\String_{1,1}; \ldots; \String_{1,n+1}],[\String_{2,1}; \ldots; \String_{2,n+1}]).putr(\String_{1,1}.\String_1. \ldots .\String_n.\String_{1,n+1}) = \String_{2,1}.(\AtomLens_{\sigma^{-1}(1)}.putr(\String_{\sigma^{-1}(1)})). \ldots . (\AtomLens_{\sigma^{-1}(n)}.putr(\String_{\sigma^{-1}(n)})).\String_{2,n+1}$
\end{itemize}

Underlying Function of Atom Lenses:
\begin{itemize}
\item $\IdentityLens.putr(s)=s$
\item $\IterateLens{\Lens}.putr(\epsilon) = \epsilon$
\item $\IterateLens{\Lens}.putr(\String . \String') = (\Lens.putr(\String)) . (\IterateLens{\Lens}.putr(\String'))$
\end{itemize}


\end{document}
