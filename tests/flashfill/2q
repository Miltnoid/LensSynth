#use "base.decls"

typedef PHONENUMBER = DIGIT DIGIT DIGIT "-" DIGIT DIGIT DIGIT "-" DIGIT DIGIT DIGIT DIGIT ;;
test PHONENUMBER matches "415-342-3622";;
typedef PHONENUMBERHIDDEN = TEXT PHONENUMBER TEXT;;
test PHONENUMBERHIDDEN matches "asdfscxv as df415-342-3622 asdfasdf v a";;
typedef PHONENUMBEREXPLICIT = "number: \"" PHONENUMBER "\"\nbeforetext: \"" TEXT "\"\naftertext: \"" TEXT "\"";;
test PHONENUMBEREXPLICIT matches "number: \"415-342-3622\"\nbeforetext: \"asdfscxv as df\"\naftertext: \" asdfasdf v a\"";;

csv_to_letter = [CSV_ADDRESS_DATABASE <=> LETTER_ADDRESS_LIST
{"Miltner,Anders,NJ,08544,Princeton,88,College Road West
Miltner,Susan,CA,94904,Greenbrae,610,Via Casitas
" <-> 
"Anders Miltner
88 College Road West
Princeton, NJ  08544

Susan Miltner
610 Via Casitas
Greenbrae, CA  94904"}]
